*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html,body{height:100%;width:100%;overflow:hidden}img,picture,video,canvas,svg{display:block;max-width:100%}input,button,textarea,select{font:inherit}button{cursor:pointer;border:none;background:none}ul,ol{list-style:none}a{text-decoration:none;color:inherit}:root{--temple-bg: #1a1612;--stone-dark: #2a2520;--stone-light: #3d3632;--gold-accent: #c9a227;--gold-glow: #e6c04c;--gold-dim: #8b7318;--text-light: #e8e4dc;--text-muted: #a09890;--success: #4a9c5d;--danger: #9c4a4a;--info: #4a7a9c;--shadow-sm: 0 2px 4px rgba(0, 0, 0, .3);--shadow-md: 0 4px 8px rgba(0, 0, 0, .4);--shadow-lg: 0 8px 16px rgba(0, 0, 0, .5);--shadow-glow: 0 0 20px rgba(201, 162, 39, .3);--space-xs: .25rem;--space-sm: .5rem;--space-md: 1rem;--space-lg: 1.5rem;--space-xl: 2rem;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--transition-fast: .15s ease;--transition-normal: .3s ease;--transition-slow: .5s ease}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:16px;line-height:1.5;color:var(--text-light);background-color:var(--temple-bg);background-image:url(/temple-bg.svg);background-repeat:repeat;background-size:100px 100px;background-image:linear-gradient(rgba(201,162,39,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(201,162,39,.03) 1px,transparent 1px),url(/temple-bg.svg);background-size:50px 50px,50px 50px,100px 100px;min-height:100vh;min-height:100dvh;overflow:hidden;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.text-gold{color:var(--gold-accent)}.text-muted{color:var(--text-muted)}.text-center{text-align:center}.font-bold{font-weight:700}.visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.flex-center{display:flex;align-items:center;justify-content:center}.no-select{-webkit-user-select:none;user-select:none}.app{min-height:100vh;min-height:100dvh}.app.connecting{display:flex;align-items:center;justify-content:center}.connecting-message{text-align:center;padding:var(--space-xl);background:#2a2520e6;border:1px solid var(--stone-light);border-radius:var(--radius-lg)}.connecting-message h2{color:var(--gold-accent);margin-bottom:var(--space-md)}.connecting-message .error{color:var(--danger);margin-top:var(--space-md)}.game-board{display:grid;grid-template-columns:1fr 2fr 1fr;grid-template-rows:auto 1fr auto;grid-template-areas:".        dm      history" "left     center  right" "bot-left center  bot-right";gap:var(--space-md);width:100vw;height:100vh;height:100dvh;padding:var(--space-lg);overflow:hidden}.player-box{background:#2a2520d9;border:1px solid var(--stone-light);border-radius:var(--radius-lg);padding:var(--space-lg);box-shadow:var(--shadow-md);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;flex-direction:column;gap:var(--space-sm);transition:transform var(--transition-fast),box-shadow var(--transition-fast)}.player-box:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}.player-box__name{font-size:1.1rem;font-weight:600;color:var(--text-light);margin-bottom:var(--space-xs)}.player-box__status{font-size:.85rem;color:var(--text-muted)}.player-box__dice-area{flex:1;display:flex;flex-wrap:wrap;gap:var(--space-sm);align-items:flex-start;min-height:60px}.player-box.dm{grid-area:dm;justify-self:center;min-width:280px;max-width:400px;border:2px solid var(--gold-accent);background:linear-gradient(135deg,#2a2520e6,#322c26e6);box-shadow:var(--shadow-md),0 0 30px #c9a22726,inset 0 1px #c9a2271a}.player-box.dm:hover{box-shadow:var(--shadow-lg),0 0 40px #c9a22740}.player-box.dm .player-box__name{color:var(--gold-accent)}.player-box.dm:before{content:"";position:absolute;top:-1px;left:50%;transform:translate(-50%);width:60px;height:3px;background:linear-gradient(90deg,transparent,var(--gold-accent),transparent);border-radius:0 0 2px 2px}.player-box.position-left{grid-area:left;align-self:center;max-width:250px}.player-box.position-right{grid-area:right;align-self:center;justify-self:end;max-width:250px}.player-box.position-bottom-left{grid-area:bot-left;align-self:end;max-width:250px}.player-box.position-bottom-right{grid-area:bot-right;align-self:end;justify-self:end;max-width:250px}.game-board__center{grid-area:center;display:flex;align-items:center;justify-content:center;background:#1a161280;border-radius:var(--radius-lg);border:1px solid rgba(61,54,50,.5)}.roll-history{grid-area:history;background:#2a2520e6;border:1px solid var(--stone-light);border-radius:var(--radius-lg);padding:var(--space-md);max-height:calc(100vh - var(--space-lg) * 2);overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--stone-light) var(--stone-dark)}.roll-history::-webkit-scrollbar{width:6px}.roll-history::-webkit-scrollbar-track{background:var(--stone-dark);border-radius:3px}.roll-history::-webkit-scrollbar-thumb{background:var(--stone-light);border-radius:3px}.roll-history__title{font-size:.9rem;font-weight:600;color:var(--gold-accent);margin-bottom:var(--space-md);text-transform:uppercase;letter-spacing:.05em}.roll-history__list{display:flex;flex-direction:column;gap:var(--space-sm)}.roll-history__item{padding:var(--space-sm);background:#1a161280;border-radius:var(--radius-sm);font-size:.85rem}.roll-history__item-player{color:var(--text-muted);font-size:.75rem}.roll-history__item-result{color:var(--text-light);font-weight:600}@media (max-width: 768px){.game-board{display:flex;flex-direction:column;gap:var(--space-md);padding:var(--space-md);height:auto;min-height:100vh;min-height:100dvh;overflow-y:auto}.player-box{max-width:100%!important;width:100%}.player-box.dm{order:-1;min-width:unset;max-width:100%}.player-box.position-left,.player-box.position-right,.player-box.position-bottom-left,.player-box.position-bottom-right{align-self:stretch;justify-self:stretch}.game-board__center{min-height:200px;order:1}.roll-history{order:100;max-height:300px}}@media (min-width: 769px) and (max-width: 1024px){.game-board{grid-template-columns:1fr 1.5fr 1fr;padding:var(--space-md)}.player-box{padding:var(--space-md);max-width:200px}.player-box.dm{min-width:220px;max-width:320px}}.player-box.empty{border-style:dashed;opacity:.5;background:#2a252066}.player-box.empty:hover{transform:none;opacity:.6}.player-box.empty .player-box__name{color:var(--text-muted);font-style:italic}.player-positions{display:contents}.player-header{display:flex;align-items:center;gap:var(--space-sm);flex-wrap:wrap}.player-name{font-size:1.1rem;font-weight:600;color:var(--text-light)}.player-box.dm .player-name{color:var(--gold-accent)}.role-badge{padding:2px 8px;font-size:.7rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;border-radius:var(--radius-sm);background:var(--stone-dark);color:var(--text-muted)}.role-badge.role-dm{background:#c9a22733;color:var(--gold-accent)}.disconnected-indicator{margin-left:auto;padding:2px 6px;font-size:.65rem;background:#9c4a4a33;color:var(--danger);border-radius:var(--radius-sm)}.hide-rolls-toggle{margin-top:var(--space-xs)}.hide-rolls-toggle label{display:flex;align-items:center;gap:var(--space-sm);font-size:.85rem;color:var(--text-muted);cursor:pointer}.hide-rolls-toggle input[type=checkbox]{accent-color:var(--gold-accent)}.waiting-message{grid-column:1 / -1;grid-row:1 / -1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:var(--space-xl)}.waiting-message h2{color:var(--gold-accent);margin-bottom:var(--space-md)}.waiting-message p{color:var(--text-muted);margin-bottom:var(--space-sm)}.roll-history-header{margin-bottom:var(--space-md);padding-bottom:var(--space-sm);border-bottom:1px solid var(--stone-light)}.roll-history-header h3{font-size:.9rem;font-weight:600;color:var(--gold-accent);text-transform:uppercase;letter-spacing:.05em;margin:0}.roll-history-list{display:flex;flex-direction:column;gap:var(--space-sm);max-height:calc(100vh - 200px);overflow-y:auto;padding-right:var(--space-xs)}.roll-entry{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-sm);background:#1a161280;border-radius:var(--radius-sm);font-size:.85rem}.roll-time{color:var(--text-muted);font-size:.75rem;font-family:monospace}.roll-player{color:var(--text-light);font-weight:500;flex:1}.roll-die{color:var(--gold-accent);font-weight:600;font-size:.8rem}.roll-result{font-weight:700;color:var(--text-light);min-width:30px;text-align:right}.roll-result.hidden-roll{color:var(--text-muted);font-style:italic;font-weight:400}.no-history,.no-roll{color:var(--text-muted);font-size:.85rem;text-align:center;padding:var(--space-md);font-style:italic}.dice-roller{margin-top:var(--space-sm)}.dice-buttons{display:flex;flex-wrap:wrap;gap:var(--space-xs)}.dice-button{display:flex;align-items:center;justify-content:center;min-width:44px;height:36px;padding:0 var(--space-sm);background:linear-gradient(145deg,var(--stone-light) 0%,var(--stone-dark) 100%);border:1px solid var(--stone-light);border-radius:var(--radius-sm);color:var(--text-light);font-size:.8rem;font-weight:600;cursor:pointer;transition:all var(--transition-fast)}.dice-button:hover:not(:disabled){border-color:var(--gold-accent);transform:translateY(-1px);box-shadow:0 2px 8px #c9a22733}.dice-button:disabled{opacity:.5;cursor:not-allowed}.dice-button.d20{border-color:var(--gold-dim)}.dice-animation{display:flex;flex-direction:column;align-items:center;gap:var(--space-xs);padding:var(--space-md);margin-bottom:var(--space-sm);background:#1a161280;border-radius:var(--radius-md)}.dice-animation .die-label{font-size:.8rem;color:var(--gold-accent);font-weight:600}.dice-animation .rolling-value{font-size:2rem;font-weight:800;color:var(--text-light);animation:tumble 1.5s ease-out}.last-roll{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-sm);background:#1a161280;border-radius:var(--radius-sm)}.last-roll .die-type{font-size:.8rem;color:var(--gold-accent);font-weight:600}.last-roll .roll-result{font-size:1.2rem;font-weight:800;color:var(--text-light)}.player-box.current-user{border-color:var(--info);box-shadow:var(--shadow-md),0 0 20px #4a7a9c33}.player-box.current-user.dm{border-color:var(--gold-accent)}.player-box.disconnected{opacity:.6}.player-box.position-top{grid-area:dm;justify-self:center;min-width:280px;max-width:400px}.health-bar-container{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-xs) 0}.health-bar{flex:1;height:12px;background:#1a1612cc;border:1px solid var(--stone-light);border-radius:6px;overflow:hidden;position:relative}.health-bar-fill{height:100%;background:linear-gradient(90deg,#2d8a3e,#4ade5b,#2d8a3e);border-radius:5px;transition:width .3s ease-out;box-shadow:0 0 8px #4ade5b66}.health-value{display:flex;align-items:center;gap:2px;font-size:.9rem;font-weight:600;color:var(--text-light);min-width:60px;justify-content:flex-end}.health-value--editable span:first-child{cursor:pointer;padding:2px 4px;border-radius:var(--radius-sm);transition:background var(--transition-fast)}.health-value--editable span:first-child:hover{background:#c9a22733;color:var(--gold-accent)}.health-separator,.health-max{color:var(--text-muted);font-weight:400}.health-input{width:45px;padding:2px 4px;font-size:.9rem;font-weight:600;text-align:center;background:var(--stone-dark);border:1px solid var(--gold-accent);border-radius:var(--radius-sm);color:var(--text-light);outline:none}.health-input:focus{box-shadow:0 0 0 2px #c9a2274d}.health-input::-webkit-outer-spin-button,.health-input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.health-input[type=number]{-moz-appearance:textfield}.die-button{position:relative;display:flex;align-items:center;justify-content:center;width:48px;height:48px;background:linear-gradient(145deg,var(--stone-light) 0%,var(--stone-dark) 100%);border:2px solid var(--stone-light);border-radius:var(--radius-md);color:var(--text-light);font-weight:700;font-size:.85rem;box-shadow:var(--shadow-sm),inset 0 1px #ffffff1a;transition:transform var(--transition-fast),box-shadow var(--transition-fast),border-color var(--transition-fast);cursor:pointer;-webkit-user-select:none;user-select:none}.die-button:hover{transform:translateY(-2px) scale(1.05);border-color:var(--gold-accent);box-shadow:var(--shadow-md),0 0 15px #c9a22733}.die-button:active{transform:translateY(0) scale(.98);box-shadow:var(--shadow-sm)}.die-button:focus-visible{outline:2px solid var(--gold-accent);outline-offset:2px}.die-button:disabled{opacity:.5;cursor:not-allowed;transform:none}.die-button.d4{border-radius:4px 4px 50% 50%;clip-path:polygon(50% 0%,100% 100%,0% 100%);height:44px;background:linear-gradient(180deg,var(--stone-light) 0%,var(--stone-dark) 100%)}.die-button.d4:after{content:"D4"}.die-button.d6{border-radius:var(--radius-sm)}.die-button.d6:after{content:"D6"}.die-button.d8{border-radius:var(--radius-sm);transform:rotate(0)}.die-button.d8:hover{transform:translateY(-2px) scale(1.05) rotate(0)}.die-button.d8:after{content:"D8"}.die-button.d10{border-radius:8px 8px 4px 4px;height:52px}.die-button.d10:after{content:"D10"}.die-button.d00{border-radius:8px 8px 4px 4px;height:52px;background:linear-gradient(145deg,var(--stone-light) 0%,#3a3530 50%,var(--stone-dark) 100%)}.die-button.d00:after{content:"D00";font-size:.75rem}.die-button.d12{border-radius:12px;width:50px;height:50px}.die-button.d12:after{content:"D12"}.die-button.d20{border-radius:50%;width:54px;height:54px;border-color:var(--gold-dim);background:linear-gradient(145deg,var(--stone-light) 0%,var(--stone-dark) 70%,rgba(201,162,39,.2) 100%)}.die-button.d20:hover{border-color:var(--gold-accent);box-shadow:var(--shadow-md),0 0 20px #c9a2274d}.die-button.d20:after{content:"D20"}.dice-display{position:relative;width:200px;height:200px;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at center,rgba(26,22,18,.8) 0%,rgba(26,22,18,.4) 70%,transparent 100%);border-radius:50%;perspective:1000px}.dice-display__die{position:absolute;width:80px;height:80px;display:flex;align-items:center;justify-content:center;font-size:2rem;font-weight:800;color:var(--text-light);background:linear-gradient(145deg,var(--stone-light) 0%,var(--stone-dark) 100%);border:3px solid var(--stone-light);border-radius:var(--radius-md);box-shadow:var(--shadow-lg);transform-style:preserve-3d}@keyframes tumble{0%{transform:rotateX(0) rotateY(0) rotate(0) scale(.8);opacity:.7}20%{transform:rotateX(180deg) rotateY(90deg) rotate(45deg) scale(1.1);opacity:1}40%{transform:rotateX(360deg) rotateY(180deg) rotate(90deg) scale(1)}60%{transform:rotateX(540deg) rotateY(270deg) rotate(135deg) scale(1.05)}80%{transform:rotateX(680deg) rotateY(340deg) rotate(160deg) scale(1)}to{transform:rotateX(720deg) rotateY(360deg) rotate(180deg) scale(1);opacity:1}}@keyframes tumble-bounce{0%,to{transform:translateY(0)}25%{transform:translateY(-20px)}50%{transform:translateY(-5px)}75%{transform:translateY(-10px)}}.rolling{animation:tumble 1.5s cubic-bezier(.25,.46,.45,.94) forwards,tumble-bounce 1.5s ease-out forwards}.rolling .dice-display__die{animation:tumble 1.5s cubic-bezier(.25,.46,.45,.94) forwards;box-shadow:var(--shadow-lg),0 0 30px #c9a22766;border-color:var(--gold-accent)}@keyframes scale-in{0%{transform:scale(0);opacity:0}50%{transform:scale(1.2)}70%{transform:scale(.95)}to{transform:scale(1);opacity:1}}@keyframes glow-pulse{0%,to{box-shadow:var(--shadow-md),0 0 20px #c9a2274d}50%{box-shadow:var(--shadow-lg),0 0 40px #c9a22780}}.die-result{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--space-xs);min-width:100px;padding:var(--space-lg);background:linear-gradient(145deg,var(--stone-light) 0%,var(--stone-dark) 100%);border:3px solid var(--gold-accent);border-radius:var(--radius-lg);animation:scale-in .4s cubic-bezier(.34,1.56,.64,1) forwards}.die-result__value{font-size:3rem;font-weight:800;color:var(--text-light);line-height:1}.die-result__type{font-size:.85rem;color:var(--gold-accent);text-transform:uppercase;letter-spacing:.1em}.die-result.critical-success{border-color:var(--gold-glow);animation:scale-in .4s cubic-bezier(.34,1.56,.64,1) forwards,glow-pulse 1.5s ease-in-out infinite}.die-result.critical-success .die-result__value{color:var(--gold-glow);text-shadow:0 0 20px rgba(230,192,76,.5)}.die-result.critical-fail{border-color:var(--danger)}.die-result.critical-fail .die-result__value{color:var(--danger)}.dice-selector{display:flex;flex-wrap:wrap;gap:var(--space-sm);padding:var(--space-md);background:#1a1612cc;border-radius:var(--radius-lg);border:1px solid var(--stone-light)}.dice-selector__title{width:100%;font-size:.8rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:.05em;margin-bottom:var(--space-xs)}.dice-results-group{display:flex;flex-wrap:wrap;gap:var(--space-md);align-items:center;justify-content:center}.dice-results-group .die-result{min-width:70px;padding:var(--space-md)}.dice-results-group .die-result__value{font-size:2rem}.dice-results-total{padding:var(--space-md) var(--space-lg);background:#c9a2271a;border:2px solid var(--gold-accent);border-radius:var(--radius-lg);font-size:1.5rem;font-weight:700;color:var(--gold-accent)}.dice-results-total:before{content:"= ";opacity:.7}
